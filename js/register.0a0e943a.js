(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{1348:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e._self._c;return r("div",{staticClass:"registerWrapper",attrs:{id:"registerBackground"}},[r("div",{staticClass:"formWrapper"},[r("el-card",{staticClass:"box-card",staticStyle:{"border-radius":"20px"}},[r("h1",{staticClass:"registerTitle"},[e._v("注册")]),r("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"50px","hide-required-asterisk":""}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"用户名"},model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1),r("el-form-item",{attrs:{prop:"telephone"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-mobile-phone",placeholder:"手机号"},model:{value:e.ruleForm.telephone,callback:function(r){e.$set(e.ruleForm,"telephone",r)},expression:"ruleForm.telephone"}})],1),r("el-form-item",{attrs:{prop:"email"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-message",placeholder:"邮箱"},model:{value:e.ruleForm.email,callback:function(r){e.$set(e.ruleForm,"email",r)},expression:"ruleForm.email"}})],1),r("el-form-item",{attrs:{prop:"password1"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-lock",placeholder:"请输入密码","show-password":""},model:{value:e.ruleForm.password1,callback:function(r){e.$set(e.ruleForm,"password1",r)},expression:"ruleForm.password1"}})],1),r("el-form-item",{attrs:{prop:"password2"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-lock",placeholder:"请再次输入密码","show-password":""},model:{value:e.ruleForm.password2,callback:function(r){e.$set(e.ruleForm,"password2",r)},expression:"ruleForm.password2"}})],1),r("el-form-item",{attrs:{prop:"code"}},[r("div",[r("el-input",{staticStyle:{width:"120px","margin-left":"-10px"},attrs:{"prefix-icon":"el-icon-message",placeholder:"验证码"},model:{value:e.ruleForm.code,callback:function(r){e.$set(e.ruleForm,"code",r)},expression:"ruleForm.code"}}),e.isCountDownShow?r("el-button",{staticStyle:{width:"175px","margin-left":"10px"},attrs:{type:"primary"}},[e._v(e._s(e.countDownSecond)+"s")]):r("el-button",{staticStyle:{width:"175px","margin-left":"10px"},attrs:{type:"primary"},on:{click:e.getCode}},[e._v("获取验证码")])],1)]),r("el-form-item",{staticClass:"registerButtonWrapper"},[r("el-button",{staticClass:"registerButton",attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("注 册")]),r("el-button",{staticClass:"cancleButton",attrs:{type:"primary"},on:{click:e.cancle}},[e._v("去 登 录 ")])],1)],1)],1)],1)])},o=[],i=t("7cd9");let l;var a={name:"Register",data(){return{countDownSecond:60,isCountDownShow:!1,ruleForm:{username:"",telephone:"",email:"",password1:"",password2:"",code:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password1:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,max:20,message:"长度在 5 到 20 个字符",trigger:"blur"}],password2:[{required:!0,message:"请再次输入密码",trigger:"blur"},{min:5,max:20,message:"长度在 5 到 20 个字符",trigger:"blur"}],telephone:[{required:!0,message:"请输入手机号",trigger:"blur"},{min:11,max:11,message:"请输入11位手机号",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:6,max:6,message:"请输入6位验证码",trigger:"blur"}]}}},created(){this.$store.getters.isLogin&&(this.$notify({title:"成功",message:"您已登录！已跳转到首页",type:"success"}),this.$router.replace({name:"Home",query:{fileType:0,filePath:"/"}}))},methods:{cancle(){this.$router.replace("/login")},submitForm(e){this.$refs[e].validate(r=>{if(!r)return this.$message.error("请完善信息！"),!1;Object(i["a"])(this.ruleForm).then(r=>{r.success?(this.$notify({title:"成功",message:"注册成功！已跳转到登录页面",type:"success"}),this.$refs[e].resetFields(),this.$router.replace({path:"/login"})):this.$message.error(r.message)})})},async getCode(){Object(i["f"])(this.ruleForm.email).then(e=>{e.success?(console.log(e),this.startCountDown(),this.$message.success("验证码发送成功！"),this.isCountDownShow=!0):(this.isCountDownShow=!1,this.$message.error("验证码发送失败！"))})},startCountDown(){this.countDownSecond=60,l=setInterval(()=>{this.countDownSecond--,0==this.countDownSecond&&(clearInterval(l),this.isCountDownShow=!1)},1e3)}}},n=a,c=(t("af25"),t("2877")),u=Object(c["a"])(n,s,o,!1,null,"25a6e031",null);r["default"]=u.exports},"2e7a":function(e,r,t){"use strict";t("3015")},3015:function(e,r,t){},"506b":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e._self._c;return r("div",{staticClass:"resetWrapper"},[r("div",{staticClass:"formWrapper"},[r("el-card",{staticClass:"box-card",staticStyle:{"border-radius":"20px"}},[r("h1",{staticClass:"resetTitle"},[e._v("修改密码")]),r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{prop:"email"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入邮箱","prefix-icon":"el-icon-message",autocomplete:"off"},model:{value:e.ruleForm.email,callback:function(r){e.$set(e.ruleForm,"email",r)},expression:"ruleForm.email"}})],1),r("el-form-item",{attrs:{prop:"code"}},[r("div",[r("el-input",{staticStyle:{width:"130px","margin-left":"0px"},attrs:{placeholder:"验证码","prefix-icon":"el-icon-message",autocomplete:"off"},model:{value:e.ruleForm.code,callback:function(r){e.$set(e.ruleForm,"code",r)},expression:"ruleForm.code"}}),e.isCountDownShow?r("el-button",{staticStyle:{width:"110px","margin-left":"10px"},attrs:{type:"primary"}},[e._v(e._s(e.countDownSecond)+"s")]):r("el-button",{staticStyle:{width:"110px","margin-left":"10px"},attrs:{type:"primary"},on:{click:e.getCode}},[e._v("获取验证码")])],1)]),r("el-form-item",{attrs:{prop:"newPassword"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入新密码","prefix-icon":"el-icon-lock",autocomplete:"off","show-password":""},model:{value:e.ruleForm.newPassword,callback:function(r){e.$set(e.ruleForm,"newPassword",r)},expression:"ruleForm.newPassword"}})],1),r("el-form-item",[r("el-button",{on:{click:e.cancle}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)],1)])},o=[],i=t("7cd9");let l;var a={name:"Login",data(){return{countDownSecond:60,isCountDownShow:!1,formLabelWidth:"125px",ruleForm:{email:"",code:"",newPassword:""},rules:{email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:6,max:6,message:"请输入6位验证码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,max:20,message:"长度在 5 到 20 个字符",trigger:"blur"}]}}},methods:{cancle(){this.$router.replace("/login")},submitForm(e){this.$refs[e].validate(r=>{if(!r)return this.$message.error("请检查信息是否正确！"),!1;Object(i["c"])(this.ruleForm,!0).then(r=>{console.log(r),r.success?(this.$message.success("密码修改成功！"),this.$refs[e].resetFields(),this.$router.replace({name:"Login"})):this.$message.error(r.message)})})},async getCode(){Object(i["e"])(this.ruleForm.email).then(e=>{e.success?(console.log(e),this.startCountDown(),this.$message.success("验证码发送成功！"),this.isCountDownShow=!0):(this.isCountDownShow=!1,this.$message.error("验证码发送失败！"))})},startCountDown(){this.countDownSecond=60,l=setInterval(()=>{this.countDownSecond--,0==this.countDownSecond&&(clearInterval(l),this.isCountDownShow=!1)},1e3)}}},n=a,c=(t("2e7a"),t("2877")),u=Object(c["a"])(n,s,o,!1,null,"c929b5c0",null);r["default"]=u.exports},af25:function(e,r,t){"use strict";t("c60d")},c60d:function(e,r,t){}}]);
//# sourceMappingURL=register.0a0e943a.js.map